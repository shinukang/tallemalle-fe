<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>탈래말래 - 차단한 사용자 관리</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <script src="nav.js"></script>

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700&display=swap");

      body {
        font-family: "Pretendard", sans-serif;
        background-color: #f8fafc;
      }

      .glass-panel {
        background: rgba(255, 255, 255, 0.92);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.5);
        box-shadow: 0 8px 32px rgba(30, 27, 75, 0.05);
      }

      .custom-scroll::-webkit-scrollbar {
        width: 5px;
      }

      .custom-scroll::-webkit-scrollbar-thumb {
        background: #e2e8f0;
        border-radius: 10px;
      }
    </style>
  </head>

  <body class="overflow-hidden">
    <div class="flex h-screen p-4 gap-4">
      <div
        id="navbar-container"
        class="w-20 h-full shrink-0 rounded-[2.5rem]"
      ></div>

      <div
        class="flex-1 glass-panel rounded-[2.5rem] overflow-hidden flex flex-col relative"
      >
        <div class="p-8 border-b border-slate-100 flex items-center gap-4">
          <button
            onclick="history.back()"
            class="w-10 h-10 rounded-xl hover:bg-slate-100 flex items-center justify-center transition-colors text-slate-500"
          >
            <i data-lucide="arrow-left" class="w-6 h-6"></i>
          </button>
          <div>
            <h1 class="text-2xl font-extrabold text-slate-900 tracking-tight">
              차단한 사용자 관리
            </h1>
            <p class="text-sm text-slate-400 font-medium mt-1">
              차단된 사용자는 나와 매칭되지 않으며 메시지를 보낼 수 없습니다.
            </p>
          </div>
        </div>

        <div class="flex-1 overflow-y-auto custom-scroll p-8">
          <div class="max-w-3xl mx-auto">
            <div
              id="blocked-list"
              class="bg-white rounded-[2rem] border border-slate-100 shadow-sm overflow-hidden"
            >
              <div
                class="p-5 flex items-center justify-between border-b border-slate-50 hover:bg-slate-50/50 transition-colors group"
              >
                <div class="flex items-center gap-4">
                  <div
                    class="w-12 h-12 rounded-full bg-slate-100 overflow-hidden border border-slate-200"
                  >
                    <img
                      src="https://api.dicebear.com/7.x/avataaars/svg?seed=AngryUser"
                      alt="User"
                      class="w-full h-full object-cover grayscale opacity-70"
                    />
                  </div>
                  <div>
                    <h3 class="font-bold text-slate-800">매너없는택시</h3>
                    <p class="text-xs text-slate-400 mt-0.5">
                      2025. 11. 20. 차단됨
                    </p>
                  </div>
                </div>
                <button
                  onclick="unblockUser(this)"
                  class="px-4 py-2 rounded-xl bg-slate-100 text-slate-500 text-xs font-bold hover:bg-indigo-50 hover:text-indigo-600 transition-all"
                >
                  차단 해제
                </button>
              </div>

              <div
                class="p-5 flex items-center justify-between border-b border-slate-50 hover:bg-slate-50/50 transition-colors group"
              >
                <div class="flex items-center gap-4">
                  <div
                    class="w-12 h-12 rounded-full bg-slate-100 overflow-hidden border border-slate-200"
                  >
                    <img
                      src="https://api.dicebear.com/7.x/avataaars/svg?seed=NoShow"
                      alt="User"
                      class="w-full h-full object-cover grayscale opacity-70"
                    />
                  </div>
                  <div>
                    <h3 class="font-bold text-slate-800">약속안지킴</h3>
                    <p class="text-xs text-slate-400 mt-0.5">
                      2025. 12. 05. 차단됨
                    </p>
                  </div>
                </div>
                <button
                  onclick="unblockUser(this)"
                  class="px-4 py-2 rounded-xl bg-slate-100 text-slate-500 text-xs font-bold hover:bg-indigo-50 hover:text-indigo-600 transition-all"
                >
                  차단 해제
                </button>
              </div>

              <div
                class="p-5 flex items-center justify-between border-b border-slate-50 hover:bg-slate-50/50 transition-colors group"
              >
                <div class="flex items-center gap-4">
                  <div
                    class="w-12 h-12 rounded-full bg-slate-100 overflow-hidden border border-slate-200"
                  >
                    <img
                      src="https://api.dicebear.com/7.x/avataaars/svg?seed=BadManner"
                      alt="User"
                      class="w-full h-full object-cover grayscale opacity-70"
                    />
                  </div>
                  <div>
                    <h3 class="font-bold text-slate-800">시끄러운사람</h3>
                    <p class="text-xs text-slate-400 mt-0.5">
                      2026. 01. 02. 차단됨
                    </p>
                  </div>
                </div>
                <button
                  onclick="unblockUser(this)"
                  class="px-4 py-2 rounded-xl bg-slate-100 text-slate-500 text-xs font-bold hover:bg-indigo-50 hover:text-indigo-600 transition-all"
                >
                  차단 해제
                </button>
              </div>

              <div
                class="p-5 flex items-center justify-between hover:bg-slate-50/50 transition-colors group"
              >
                <div class="flex items-center gap-4">
                  <div
                    class="w-12 h-12 rounded-full bg-slate-100 overflow-hidden border border-slate-200"
                  >
                    <img
                      src="https://api.dicebear.com/7.x/avataaars/svg?seed=Spam"
                      alt="User"
                      class="w-full h-full object-cover grayscale opacity-70"
                    />
                  </div>
                  <div>
                    <h3 class="font-bold text-slate-800">광고계정123</h3>
                    <p class="text-xs text-slate-400 mt-0.5">
                      2026. 01. 03. 차단됨
                    </p>
                  </div>
                </div>
                <button
                  onclick="unblockUser(this)"
                  class="px-4 py-2 rounded-xl bg-slate-100 text-slate-500 text-xs font-bold hover:bg-indigo-50 hover:text-indigo-600 transition-all"
                >
                  차단 해제
                </button>
              </div>
            </div>

            <div class="mt-6 text-center">
              <p
                class="text-xs text-slate-400 bg-slate-100/50 inline-block px-4 py-2 rounded-full"
              >
                <i
                  data-lucide="info"
                  class="w-3 h-3 inline mr-1 align-middle"
                ></i>
                차단을 해제하면 즉시 매칭 대상에 포함됩니다.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // [수정됨] 네비게이션 로드 호출
      if (typeof loadNavbar === "function") {
        loadNavbar("nav-setting");
      }

      lucide.createIcons();

      // 차단 해제 기능 (데모용)
      function unblockUser(btn) {
        if (confirm("이 사용자의 차단을 해제하시겠습니까?")) {
          const row = btn.closest(".flex");
          row.style.transition = "all 0.3s ease";
          row.style.opacity = "0";
          row.style.transform = "translateX(20px)";

          setTimeout(() => {
            row.remove();
            const listContainer = document.getElementById("blocked-list");
            if (listContainer.children.length === 0) {
              listContainer.innerHTML = `
                    <div class="p-10 text-center text-slate-400">
                        <i data-lucide="check-circle" class="w-8 h-8 mx-auto mb-3 opacity-50"></i>
                        <p class="text-sm">차단한 사용자가 없습니다.</p>
                    </div>
                `;
              lucide.createIcons();
            }
          }, 300);
        }
      }
    </script>
  </body>
</html>
