<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>공지사항 및 FAQ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <script src="nav.js"></script>

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700&display=swap");

      body {
        font-family: "Pretendard", sans-serif;
        background-color: #f8fafc;
      }

      .glass-panel {
        background: rgba(255, 255, 255, 0.92);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.5);
        box-shadow: 0 8px 32px rgba(30, 27, 75, 0.05);
      }

      .custom-scroll::-webkit-scrollbar {
        width: 5px;
      }

      .custom-scroll::-webkit-scrollbar-thumb {
        background: #e2e8f0;
        border-radius: 10px;
      }

      .tab-active {
        color: #4f46e5;
        border-bottom: 2px solid #4f46e5;
      }

      /* FAQ 아코디언 애니메이션 */
      .faq-answer {
        transition: all 0.3s ease-in-out;
      }
    </style>
  </head>
  <body class="overflow-hidden">
    <div class="flex h-screen p-4 gap-4">
      <div
        id="navbar-container"
        class="w-20 h-full shrink-0 rounded-[2.5rem]"
      ></div>

      <div
        class="flex-1 glass-panel rounded-[2.5rem] overflow-hidden flex flex-col"
      >
        <div class="p-8 pb-0">
          <header class="mb-6">
            <h1 class="text-2xl font-extrabold text-slate-900 tracking-tight">
              공지사항
            </h1>
            <p class="text-sm text-slate-400 font-medium mt-1">
              서비스의 새로운 소식과 자주 묻는 질문을 확인하세요.
            </p>
          </header>

          <div class="flex border-b border-slate-100 w-full">
            <button
              id="tab-notice"
              onclick="switchTab('notice')"
              class="flex-1 pb-4 text-sm font-bold text-slate-500 hover:text-indigo-600 transition-all tab-active"
            >
              공지사항
            </button>
            <button
              id="tab-faq"
              onclick="switchTab('faq')"
              class="flex-1 pb-4 text-sm font-bold text-slate-500 hover:text-indigo-600 transition-all"
            >
              자주 묻는 질문 (FAQ)
            </button>
          </div>
        </div>

        <div class="flex-1 overflow-y-auto custom-scroll p-8 pt-6">
          <div class="max-w-4xl mx-auto">
            <section id="content-notice" class="space-y-4">
              <div
                class="bg-white p-6 rounded-[1.5rem] shadow-sm hover:shadow-md transition-all cursor-pointer border border-slate-100 group"
              >
                <div class="flex justify-between items-start mb-2">
                  <span
                    class="px-2.5 py-1 bg-indigo-50 text-indigo-600 text-[10px] font-bold rounded-lg uppercase tracking-wider"
                    >Update</span
                  >
                  <span class="text-xs text-slate-400 font-medium"
                    >2024.05.20</span
                  >
                </div>
                <h3
                  class="text-base font-bold text-slate-800 group-hover:text-indigo-600 transition-colors"
                >
                  버전 2.1 패치노트 안내
                </h3>
                <p class="text-sm text-slate-500 mt-2 line-clamp-1">
                  새로운 UI 테마와 채팅 성능 개선이 포함된 업데이트가
                  진행되었습니다.
                </p>
              </div>

              <div
                class="bg-white p-6 rounded-[1.5rem] shadow-sm hover:shadow-md transition-all cursor-pointer border border-slate-100 group"
              >
                <div class="flex justify-between items-start mb-2">
                  <span
                    class="px-2.5 py-1 bg-amber-50 text-amber-600 text-[10px] font-bold rounded-lg uppercase tracking-wider"
                    >Notice</span
                  >
                  <span class="text-xs text-slate-400 font-medium"
                    >2024.05.15</span
                  >
                </div>
                <h3
                  class="text-base font-bold text-slate-800 group-hover:text-amber-600 transition-colors"
                >
                  서버 점검 안내 (05/18 02:00 ~ 04:00)
                </h3>
                <p class="text-sm text-slate-500 mt-2 line-clamp-1">
                  보다 안정적인 서비스 제공을 위해 정기 서버 점검을 진행할
                  예정입니다.
                </p>
              </div>

              <div
                class="bg-white p-6 rounded-[1.5rem] shadow-sm hover:shadow-md transition-all cursor-pointer border border-slate-100 group"
              >
                <div class="flex justify-between items-start mb-2">
                  <span
                    class="px-2.5 py-1 bg-rose-50 text-rose-600 text-[10px] font-bold rounded-lg uppercase tracking-wider"
                    >Event</span
                  >
                  <span class="text-xs text-slate-400 font-medium"
                    >2024.05.10</span
                  >
                </div>
                <h3
                  class="text-base font-bold text-slate-800 group-hover:text-rose-500 transition-colors"
                >
                  친구 초대 이벤트 - 포인트 2배 적립!
                </h3>
                <p class="text-sm text-slate-500 mt-2 line-clamp-1">
                  지금 친구를 초대하고 특별한 혜택을 받아보세요.
                </p>
              </div>
            </section>

            <section id="content-faq" class="hidden space-y-3">
              <div
                class="faq-item border border-slate-100 rounded-2xl overflow-hidden bg-white hover:border-indigo-100 transition-all"
              >
                <button
                  onclick="toggleFaq(this)"
                  class="w-full flex justify-between items-center p-5 text-left bg-white hover:bg-slate-50/50 transition-colors"
                >
                  <span class="text-sm font-bold text-slate-700"
                    >비밀번호를 잊어버렸어요. 어떻게 하나요?</span
                  >
                  <i
                    data-lucide="chevron-down"
                    class="w-4 h-4 text-slate-400 transition-transform duration-300"
                  ></i>
                </button>
                <div
                  class="faq-answer hidden p-5 pt-0 text-xs text-slate-500 bg-white border-t border-slate-50 leading-relaxed"
                >
                  <div class="mt-3">
                    로그인 화면 하단의 <strong>'비밀번호 찾기'</strong>를 클릭한
                    후, 가입하신 이메일 주소를 입력해주세요. 해당 이메일로
                    비밀번호 재설정 링크를 보내드립니다.
                  </div>
                </div>
              </div>

              <div
                class="faq-item border border-slate-100 rounded-2xl overflow-hidden bg-white hover:border-indigo-100 transition-all"
              >
                <button
                  onclick="toggleFaq(this)"
                  class="w-full flex justify-between items-center p-5 text-left bg-white hover:bg-slate-50/50 transition-colors"
                >
                  <span class="text-sm font-bold text-slate-700"
                    >탈퇴는 어떻게 진행하나요?</span
                  >
                  <i
                    data-lucide="chevron-down"
                    class="w-4 h-4 text-slate-400 transition-transform duration-300"
                  ></i>
                </button>
                <div
                  class="faq-answer hidden p-5 pt-0 text-xs text-slate-500 bg-white border-t border-slate-50 leading-relaxed"
                >
                  <div class="mt-3">
                    <strong>설정 > 계정 및 보안</strong> 메뉴 하단에서 회원
                    탈퇴를 진행하실 수 있습니다. 탈퇴 시 보유 포인트와 이용 기록
                    등 모든 데이터는 복구가 불가능하니 신중하게 결정해주세요.
                  </div>
                </div>
              </div>

              <div
                class="faq-item border border-slate-100 rounded-2xl overflow-hidden bg-white hover:border-indigo-100 transition-all"
              >
                <button
                  onclick="toggleFaq(this)"
                  class="w-full flex justify-between items-center p-5 text-left bg-white hover:bg-slate-50/50 transition-colors"
                >
                  <span class="text-sm font-bold text-slate-700"
                    >채팅 알림을 끄고 싶어요.</span
                  >
                  <i
                    data-lucide="chevron-down"
                    class="w-4 h-4 text-slate-400 transition-transform duration-300"
                  ></i>
                </button>
                <div
                  class="faq-answer hidden p-5 pt-0 text-xs text-slate-500 bg-white border-t border-slate-50 leading-relaxed"
                >
                  <div class="mt-3">
                    <strong>설정 > 알림 설정</strong> 메뉴에서 전체 알림을
                    끄거나, 개별 채팅방 내부의 메뉴(⋮)에서 해당 채팅방의 알림만
                    별도로 끄실 수 있습니다.
                  </div>
                </div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </div>

    <script>
      // [수정됨] 네비게이션 바 로드 및 활성화 (Notice 탭 활성화)
      if (typeof loadNavbar === "function") {
        loadNavbar("nav-notice");
      }

      lucide.createIcons();

      // 탭 전환 로직
      function switchTab(tab) {
        const noticeTab = document.getElementById("tab-notice");
        const faqTab = document.getElementById("tab-faq");
        const noticeContent = document.getElementById("content-notice");
        const faqContent = document.getElementById("content-faq");

        if (tab === "notice") {
          noticeTab.classList.add("tab-active", "text-indigo-600");
          faqTab.classList.remove("tab-active", "text-indigo-600");
          noticeContent.classList.remove("hidden");
          faqContent.classList.add("hidden");
        } else {
          faqTab.classList.add("tab-active", "text-indigo-600");
          noticeTab.classList.remove("tab-active", "text-indigo-600");
          faqContent.classList.remove("hidden");
          noticeContent.classList.add("hidden");
        }
      }

      // FAQ 아코디언 로직
      function toggleFaq(button) {
        const answer = button.nextElementSibling;
        const icon = button.querySelector("i");

        const isHidden = answer.classList.contains("hidden");

        // 다른 답변 모두 닫기 (하나만 열리게 하려면 주석 해제)
        // document.querySelectorAll('.faq-answer').forEach(el => el.classList.add('hidden'));
        // document.querySelectorAll('.faq-item i').forEach(el => el.style.transform = 'rotate(0deg)');

        if (isHidden) {
          answer.classList.remove("hidden");
          icon.style.transform = "rotate(180deg)";
        } else {
          answer.classList.add("hidden");
          icon.style.transform = "rotate(0deg)";
        }
      }
    </script>
  </body>
</html>
