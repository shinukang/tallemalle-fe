<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>탈래말래 - 비밀번호 찾기</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700&display=swap");

      :root {
        --tm-primary: #4f46e5;
        --tm-dark: #1e1b4b;
      }

      body {
        font-family: "Pretendard", sans-serif;
        background: linear-gradient(135deg, #eef2ff 0%, #e0e7ff 100%);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
      }

      .login-card {
        background: white;
        border-radius: 24px;
        box-shadow: 0 10px 40px rgba(30, 27, 75, 0.1);
        width: 100%;
        max-width: 420px;
        overflow: hidden;
      }

      .input-focus:focus-within {
        border-color: var(--tm-primary);
        box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.1);
      }
    </style>

    <script>
      function sendResetEmail() {
        const emailInput = document.getElementById("emailInput");

        // 브라우저 기본 유효성 검사 (required 체크)
        if (!emailInput.checkValidity()) {
          emailInput.reportValidity();
          return;
        }

        const email = emailInput.value;

        // 1. 모달 메시지 업데이트
        const messageBox = document.getElementById("modalMessage");
        messageBox.innerHTML = `<span class="font-bold text-slate-900">${email}</span>(으)로<br>비밀번호 재설정 메일을 보냈습니다.`;

        // 2. 모달창 띄우기 (hidden 제거)
        document.getElementById("customModal").classList.remove("hidden");
      }

      // 모달 확인 버튼 클릭 시 실행
      function confirmAndRedirect() {
        location.href = "./login.html";
      }
    </script>
  </head>

  <body class="text-slate-800">
    <div class="login-card">
      <div class="px-8 pt-4">
        <button
          onclick="history.back()"
          class="p-2 -ml-2 rounded-xl hover:bg-slate-50 text-slate-400 hover:text-slate-600 transition-all"
        >
          <i data-lucide="arrow-left" class="w-6 h-6"></i>
        </button>
      </div>

      <div class="px-8 pb-6 flex flex-col">
        <div
          class="w-12 h-12 bg-indigo-50 rounded-2xl flex items-center justify-center text-indigo-600 mb-4 mt-2"
        >
          <i data-lucide="key-round" class="w-6 h-6"></i>
        </div>
        <h2 class="text-2xl font-bold text-slate-900">비밀번호 찾기</h2>
        <p class="text-slate-500 mt-2 text-sm leading-relaxed">
          가입하신 이메일 주소를 입력해 주시면<br />
          비밀번호 재설정 링크를 보내드립니다.
        </p>
      </div>

      <form
        class="px-8 py-2 space-y-4"
        onsubmit="event.preventDefault(); sendResetEmail();"
      >
        <div class="space-y-1.5">
          <label class="text-xs font-bold text-slate-500 ml-1">이메일</label>
          <div
            class="relative flex items-center bg-slate-50 border border-slate-200 rounded-xl transition-all input-focus"
          >
            <i
              data-lucide="mail"
              class="absolute left-4 w-5 h-5 text-slate-400"
            ></i>
            <input
              id="emailInput"
              type="email"
              placeholder="example@email.com"
              required
              class="w-full pl-12 pr-4 py-4 bg-transparent rounded-xl focus:outline-none text-sm"
            />
          </div>
        </div>

        <button
          type="submit"
          class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 rounded-xl shadow-lg shadow-indigo-100 transition-all active:scale-[0.98] mt-4"
        >
          재설정 메일 보내기
        </button>
      </form>

      <div class="p-8 text-center">
        <p class="text-sm text-slate-500">
          이메일이 기억나지 않나요?
          <a
            href="#"
            onclick="alert('고객센터(02-1234-5678)로 문의해주세요.')"
            class="text-indigo-600 font-bold hover:underline ml-1"
            >고객센터 문의</a
          >
        </p>
      </div>
    </div>

    <div
      id="customModal"
      class="hidden fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-[2px] p-4 transition-all"
    >
      <div
        class="bg-white rounded-[2rem] p-8 w-full max-w-sm text-center shadow-2xl transform scale-100 transition-all"
      >
        <div
          class="w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center mx-auto mb-6 text-indigo-600"
        >
          <i data-lucide="mail-check" class="w-8 h-8"></i>
        </div>

        <h3 class="text-xl font-bold text-slate-900 mb-2">메일 발송 완료!</h3>
        <p
          id="modalMessage"
          class="text-sm text-slate-500 leading-relaxed mb-8"
        ></p>

        <button
          onclick="confirmAndRedirect()"
          class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 rounded-xl transition-all active:scale-[0.98]"
        >
          확인
        </button>
      </div>
    </div>

    <script>
      lucide.createIcons();
    </script>
  </body>
</html>
