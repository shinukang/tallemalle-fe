<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íƒˆë˜ë§ë˜ - ì•Œë¦¼ ì„¼í„°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- ì™¸ë¶€ ë„¤ë¹„ê²Œì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ -->
    <script src="../../component/nav/nav.js"></script>
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700&display=swap");

        body {
            font-family: "Pretendard", sans-serif;
            background-color: #f8fafc;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 8px 32px rgba(30, 27, 75, 0.05);
        }

        .custom-scroll::-webkit-scrollbar {
            width: 5px;
        }

        .custom-scroll::-webkit-scrollbar-thumb {
            background: #e2e8f0;
            border-radius: 10px;
        }

        .notification-item {
            transition: all 0.2s ease;
        }

        .notification-item:not(.read):hover {
            background-color: #f8fafc;
            transform: translateY(-2px);
        }

        .unread-dot {
            width: 8px;
            height: 8px;
            background-color: #4f46e5;
            border-radius: 50%;
            position: absolute;
            top: 28px;
            left: 12px;
        }

        .filter-btn.active {
            color: #4f46e5;
            border-bottom: 2px solid #4f46e5;
        }

        /* ì½ìŒ ìƒíƒœ ìŠ¤íƒ€ì¼ */
        .notification-item.read {
            opacity: 0.6;
        }
        .notification-item.read .unread-dot {
            display: none;
        }
    </style>
</head>
<body class="overflow-hidden">
    <div class="flex h-screen p-4 gap-4">
        <!-- ë„¤ë¹„ê²Œì´ì…˜ ë°” ì»¨í…Œì´ë„ˆ -->
        <div id="navbar-container" class="w-20 h-full shrink-0 !overflow-visible"></div>

        <!-- ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ -->
        <div class="flex-1 glass-panel rounded-[2.5rem] overflow-hidden flex flex-col">
            <!-- í—¤ë” ì„¹ì…˜ -->
            <div class="p-10 pb-6 border-b border-slate-50">
                <div class="max-w-4xl mx-auto w-full flex justify-between items-end">
                    <div>
                        <h1 class="text-3xl font-bold text-slate-900 tracking-tight">ì•Œë¦¼ ì„¼í„°</h1>
                        <p class="text-sm text-slate-400 font-medium mt-2">ìƒˆë¡œìš´ ì†Œì‹ê³¼ í™œë™ ë‚´ì—­ì„ í™•ì¸í•˜ì„¸ìš”.</p>
                    </div>
                    <button onclick="markAllAsRead()" class="text-xs font-bold text-indigo-600 hover:text-indigo-700 bg-indigo-50 px-4 py-2 rounded-xl transition-colors">
                        ëª¨ë‘ ì½ìŒ ì²˜ë¦¬
                    </button>
                </div>
            </div>

            <!-- ì•Œë¦¼ í•„í„° íƒ­ -->
            <div class="px-10 py-4 bg-white/50 border-b border-slate-50">
                <div class="max-w-4xl mx-auto flex gap-6" id="filter-container">
                    <button onclick="filterNotifications('all', this)" class="filter-btn active text-sm font-bold pb-2 transition-all">ì „ì²´</button>
                    <button onclick="filterNotifications('matching', this)" class="filter-btn text-sm font-medium text-slate-400 hover:text-slate-600 pb-2 transition-all">ë§¤ì¹­</button>
                    <button onclick="filterNotifications('payment', this)" class="filter-btn text-sm font-medium text-slate-400 hover:text-slate-600 pb-2 transition-all">ê²°ì œ</button>
                    <button onclick="filterNotifications('event', this)" class="filter-btn text-sm font-medium text-slate-400 hover:text-slate-600 pb-2 transition-all">ì´ë²¤íŠ¸</button>
                </div>
            </div>

            <!-- ì•Œë¦¼ ë¦¬ìŠ¤íŠ¸ ì˜ì—­ -->
            <div class="flex-1 overflow-y-auto custom-scroll p-10 pt-6">
                <div class="max-w-4xl mx-auto w-full space-y-3" id="notification-list">
                    
                    <!-- ì˜¤ëŠ˜ ì•Œë¦¼ -->
                    <div class="mb-6 date-group" id="group-today">
                        <h2 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-4">ì˜¤ëŠ˜</h2>
                        <div class="space-y-3">
                            <!-- ë™ìŠ¹ì ì…ì¥ ì•Œë¦¼ (ë§¤ì¹­ ì¹´í…Œê³ ë¦¬) -->
                            <div data-category="matching" onclick="markAsRead(this)" class="notification-item relative bg-white p-6 pl-10 rounded-[2rem] border border-slate-100 shadow-sm cursor-pointer group">
                                <div class="unread-dot"></div>
                                <div class="flex items-start gap-4">
                                    <div class="w-10 h-10 rounded-2xl bg-indigo-50 flex items-center justify-center text-indigo-600 shrink-0">
                                        <i data-lucide="user-plus" class="w-5 h-5"></i>
                                    </div>
                                    <div class="flex-1">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <span class="text-[10px] font-bold text-indigo-500 uppercase tracking-tight">ë™ìŠ¹ì ì…ì¥</span>
                                                <h3 class="font-bold text-slate-800 mt-0.5"><span class="text-indigo-600">ë°•ì§€ë¯¼</span>ë‹˜ì´ íŒŒí‹°ì— ì…ì¥í–ˆìŠµë‹ˆë‹¤.</h3>
                                            </div>
                                            <span class="text-[11px] text-slate-300">ë°©ê¸ˆ ì „</span>
                                        </div>
                                        <p class="text-sm text-slate-500 mt-1">ìƒˆë¡œìš´ ë™ìŠ¹ìì™€ ì¸ì‚¬ë¥¼ ë‚˜ëˆ ë³´ì„¸ìš”!</p>
                                    </div>
                                </div>
                            </div>

                            <!-- ì´ë²¤íŠ¸ ì•Œë¦¼ -->
                            <div data-category="event" onclick="markAsRead(this)" class="notification-item relative bg-white p-6 pl-10 rounded-[2rem] border border-slate-100 shadow-sm cursor-pointer group">
                                <div class="unread-dot"></div>
                                <div class="flex items-start gap-4">
                                    <div class="w-10 h-10 rounded-2xl bg-pink-50 flex items-center justify-center text-pink-600 shrink-0">
                                        <i data-lucide="gift" class="w-5 h-5"></i>
                                    </div>
                                    <div class="flex-1">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <span class="text-[10px] font-bold text-pink-500 uppercase tracking-tight">ì´ë²¤íŠ¸</span>
                                                <h3 class="font-bold text-slate-800 mt-0.5">ë²šê½ƒ ì‹œì¦Œ í•œì •! ë¬´ë£Œ íƒ‘ìŠ¹ê¶Œ ë„ì°© ğŸŒ¸</h3>
                                            </div>
                                            <span class="text-[11px] text-slate-300">5ë¶„ ì „</span>
                                        </div>
                                        <p class="text-sm text-slate-500 mt-1">ì§€ê¸ˆ ë°”ë¡œ ì¿ í°í•¨ì„ í™•ì¸í•˜ê³  ë´„ë‚˜ë“¤ì´ ì§€ì›ê¸ˆì„ ë°›ìœ¼ì„¸ìš”.</p>
                                    </div>
                                </div>
                            </div>

                            <!-- ë§¤ì¹­ ì„±ê³µ ì•Œë¦¼ -->
                            <div data-category="matching" onclick="markAsRead(this)" class="notification-item relative bg-white p-6 pl-10 rounded-[2rem] border border-slate-100 shadow-sm cursor-pointer group">
                                <div class="unread-dot"></div>
                                <div class="flex items-start gap-4">
                                    <div class="w-10 h-10 rounded-2xl bg-indigo-50 flex items-center justify-center text-indigo-600 shrink-0">
                                        <i data-lucide="car" class="w-5 h-5"></i>
                                    </div>
                                    <div class="flex-1">
                                        <div class="flex justify-between items-start">
                                            <h3 class="font-bold text-slate-800">ë§¤ì¹­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h3>
                                            <span class="text-[11px] text-slate-300">15ë¶„ ì „</span>
                                        </div>
                                        <p class="text-sm text-slate-500 mt-1">ê°•ë‚¨ì—­ â†’ íŒêµì—­ ë™ìŠ¹ ë§¤ì¹­ì´ ì„±ê³µí–ˆìŠµë‹ˆë‹¤. ë“œë¼ì´ë²„ ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ì–´ì œ ì•Œë¦¼ -->
                    <div class="mb-6 date-group" id="group-yesterday">
                        <h2 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-4">ì–´ì œ</h2>
                        <div class="space-y-3">
                            <!-- ê²°ì œ ì™„ë£Œ ì•Œë¦¼ -->
                            <div data-category="payment" onclick="markAsRead(this)" class="notification-item bg-white/60 p-6 rounded-[2rem] border border-slate-50 shadow-sm cursor-pointer group">
                                <div class="flex items-start gap-4">
                                    <div class="w-10 h-10 rounded-2xl bg-amber-50 flex items-center justify-center text-amber-600 shrink-0">
                                        <i data-lucide="credit-card" class="w-5 h-5"></i>
                                    </div>
                                    <div class="flex-1">
                                        <div class="flex justify-between items-start">
                                            <h3 class="font-bold text-slate-800">ì •ì‚°ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.</h3>
                                            <span class="text-[11px] text-slate-300">ì–´ì œ</span>
                                        </div>
                                        <p class="text-sm text-slate-500 mt-1">ì–´ì œ ì´ìš©í•˜ì‹  ì—¬ì •ì˜ ìš”ê¸ˆ 4,500ì›ì´ ë“±ë¡ëœ ì¹´ë“œë¡œ ê²°ì œë˜ì—ˆìŠµë‹ˆë‹¤.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                
                <!-- ê²€ìƒ‰ ê²°ê³¼ ì—†ìŒ ë©”ì‹œì§€ -->
                <div id="no-notifications" class="hidden flex flex-col items-center justify-center py-20">
                    <div class="w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4">
                        <i data-lucide="bell-off" class="w-8 h-8 text-slate-300"></i>
                    </div>
                    <p class="text-slate-400 font-medium">í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì˜ ì•Œë¦¼ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        if (typeof loadNavbar === 'function') {
            loadNavbar("nav-notifications");
        }
        
        lucide.createIcons();

        // ê°œë³„ ì½ìŒ ì²˜ë¦¬ í•¨ìˆ˜
        function markAsRead(element) {
            element.classList.add('read');
        }

        // ì „ì²´ ì½ìŒ ì²˜ë¦¬ í•¨ìˆ˜
        function markAllAsRead() {
            document.querySelectorAll('.notification-item').forEach(item => {
                item.classList.add('read');
            });
        }

        // í•„í„°ë§ ê¸°ëŠ¥
        function filterNotifications(category, btn) {
            document.querySelectorAll('.filter-btn').forEach(b => {
                b.classList.remove('active', 'text-indigo-600', 'font-bold');
                b.classList.add('text-slate-400', 'font-medium');
            });
            btn.classList.add('active', 'text-indigo-600', 'font-bold');
            btn.classList.remove('text-slate-400', 'font-medium');

            const items = document.querySelectorAll('.notification-item');
            const dateGroups = document.querySelectorAll('.date-group');
            let hasVisibleItem = false;

            items.forEach(item => {
                if (category === 'all' || item.getAttribute('data-category') === category) {
                    item.style.display = 'block';
                    hasVisibleItem = true;
                } else {
                    item.style.display = 'none';
                }
            });

            dateGroups.forEach(group => {
                const visibleInGroup = Array.from(group.querySelectorAll('.notification-item')).some(item => item.style.display !== 'none');
                group.style.display = visibleInGroup ? 'block' : 'none';
            });

            const noNoti = document.getElementById('no-notifications');
            if (!hasVisibleItem) {
                noNoti.classList.remove('hidden');
            } else {
                noNoti.classList.add('hidden');
            }
        }
    </script>
</body>
</html>