<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>탈래말래 - 비밀번호 변경</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <script src="../../component/nav/nav.js"></script>

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700&display=swap");

      body {
        font-family: "Pretendard", sans-serif;
        background-color: #f8fafc;
      }

      .glass-panel {
        background: rgba(255, 255, 255, 0.92);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.5);
        box-shadow: 0 8px 32px rgba(30, 27, 75, 0.05);
      }

      .custom-scroll::-webkit-scrollbar {
        width: 5px;
      }

      .custom-scroll::-webkit-scrollbar-thumb {
        background: #e2e8f0;
        border-radius: 10px;
      }

      /* 입력 필드 포커스링 커스텀 */
      .input-field:focus-within {
        box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.1);
        border-color: #4f46e5;
      }
    </style>
  </head>

  <body class="overflow-hidden">
    <div class="flex h-screen p-4 gap-4">
      <div
        id="navbar-container"
        class="w-20 h-full shrink-0 rounded-[2.5rem]"
      ></div>

      <div
        class="flex-1 glass-panel rounded-[2.5rem] overflow-hidden flex flex-col relative"
      >
        <div class="p-8 border-b border-slate-100 flex items-center gap-4">
          <button
            onclick="history.back()"
            class="w-10 h-10 rounded-xl hover:bg-slate-100 flex items-center justify-center transition-colors text-slate-500"
          >
            <i data-lucide="arrow-left" class="w-6 h-6"></i>
          </button>
          <div>
            <h1 class="text-2xl font-extrabold text-slate-900 tracking-tight">
              비밀번호 변경
            </h1>
            <p class="text-sm text-slate-400 font-medium mt-1">
              소중한 개인정보 보호를 위해 주기적인 변경을 권장합니다.
            </p>
          </div>
        </div>

        <div
          class="flex-1 overflow-y-auto custom-scroll p-8 flex flex-col items-center"
        >
          <div class="w-full max-w-lg space-y-8 mt-4">
            <div class="space-y-2">
              <label
                for="current-pw"
                class="text-sm font-bold text-slate-700 ml-1"
                >현재 비밀번호</label
              >
              <div
                class="input-field relative bg-white rounded-2xl border border-slate-200 transition-all"
              >
                <input
                  type="password"
                  id="current-pw"
                  placeholder="사용 중인 비밀번호를 입력하세요"
                  class="w-full p-4 bg-transparent outline-none text-slate-800 placeholder:text-slate-400 rounded-2xl"
                />
                <i
                  data-lucide="lock"
                  class="absolute right-4 top-4 w-5 h-5 text-slate-300"
                ></i>
              </div>
            </div>

            <div class="h-px bg-slate-100 w-full my-6"></div>

            <div class="space-y-4">
              <div class="space-y-2">
                <label
                  for="new-pw"
                  class="text-sm font-bold text-slate-700 ml-1"
                  >새 비밀번호</label
                >
                <div
                  class="input-field relative bg-white rounded-2xl border border-slate-200 transition-all"
                >
                  <input
                    type="password"
                    id="new-pw"
                    placeholder="새로운 비밀번호 (8자 이상)"
                    class="w-full p-4 bg-transparent outline-none text-slate-800 placeholder:text-slate-400 rounded-2xl"
                  />
                  <i
                    data-lucide="key"
                    class="absolute right-4 top-4 w-5 h-5 text-slate-300"
                  ></i>
                </div>
              </div>

              <div class="space-y-2">
                <label
                  for="confirm-pw"
                  class="text-sm font-bold text-slate-700 ml-1"
                  >새 비밀번호 확인</label
                >
                <div
                  class="input-field relative bg-white rounded-2xl border border-slate-200 transition-all"
                >
                  <input
                    type="password"
                    id="confirm-pw"
                    placeholder="새로운 비밀번호를 한 번 더 입력하세요"
                    class="w-full p-4 bg-transparent outline-none text-slate-800 placeholder:text-slate-400 rounded-2xl"
                  />
                  <i
                    data-lucide="check-circle-2"
                    class="absolute right-4 top-4 w-5 h-5 text-slate-300"
                  ></i>
                </div>
              </div>
            </div>

            <div
              class="bg-indigo-50/50 p-5 rounded-2xl border border-indigo-100"
            >
              <h4
                class="text-xs font-bold text-indigo-900 mb-2 flex items-center gap-1"
              >
                <i data-lucide="info" class="w-3 h-3"></i> 비밀번호 설정 규칙
              </h4>
              <ul
                class="text-xs text-slate-500 space-y-1 list-disc list-inside ml-1"
              >
                <li>영문, 숫자, 특수문자를 포함하여 8자 이상이어야 합니다.</li>
                <li>연속적인 숫자나 생년월일 등 쉬운 비밀번호는 피해주세요.</li>
                <li>이전에 사용한 비밀번호는 재사용할 수 없습니다.</li>
              </ul>
            </div>
          </div>
        </div>

        <div
          class="p-8 border-t border-slate-100 bg-white/50 flex justify-end gap-3"
        >
          <button
            onclick="location.href='../appInfo/setting.html'"
            class="px-8 py-4 rounded-2xl font-bold text-slate-500 hover:bg-slate-100 transition-all"
          >
            취소
          </button>
          <button
            onclick="handleSubmit()"
            class="px-8 py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl font-bold shadow-xl shadow-indigo-100 transition-all active:scale-95"
          >
            비밀번호 변경하기
          </button>
        </div>
      </div>
    </div>

    <script>
      // [수정됨] 네비게이션 로드 호출
      if (typeof loadNavbar === "function") {
        loadNavbar("nav-setting");
      }

      lucide.createIcons();

      function handleSubmit() {
        const currentPw = document.getElementById("current-pw").value;
        const newPw = document.getElementById("new-pw").value;
        const confirmPw = document.getElementById("confirm-pw").value;

        if (!currentPw || !newPw || !confirmPw) {
          alert("모든 항목을 입력해주세요.");
          return;
        }

        if (newPw !== confirmPw) {
          alert("새 비밀번호가 일치하지 않습니다.");
          return;
        }

        if (newPw.length < 8) {
          alert("비밀번호는 8자 이상이어야 합니다.");
          return;
        }

        // 성공 시 로직
        alert("비밀번호가 성공적으로 변경되었습니다.");
        location.href = "../appinfo/setting.html";
      }
    </script>
  </body>
</html>
